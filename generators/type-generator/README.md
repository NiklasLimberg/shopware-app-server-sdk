# Type generation

The types provided by this SDK are generated based on the business-events dumped by the [debug:business-events](https://developer.shopware.com/docs/resources/references/core-reference/commands-reference#debug) command. The output of that command looks like this:

```json
[
  {
    "extensions": [],
    "name": "checkout.customer.before.login",
    "class": "Shopware\\Core\\Checkout\\Customer\\Event\\CustomerBeforeLoginEvent",
    "data": {
      "email": {
        "type": "string"
      }
    },
    "aware": [
      "salesChannelAware",
      "Shopware\\Core\\Framework\\Event\\SalesChannelAware",
      "mailAware",
      "Shopware\\Core\\Framework\\Event\\MailAware",
      "emailAware",
      "Shopware\\Core\\Content\\Flow\\Dispatching\\Aware\\EmailAware"
    ]
  },
  {
    "extensions": [],
    "name": "checkout.customer.changed-payment-method",
    "class": "Shopware\\Core\\Checkout\\Customer\\Event\\CustomerChangedPaymentMethodEvent",
    "data": {
      "customer": {
        "type": "entity",
        "entityClass": "Shopware\\Core\\Checkout\\Customer\\CustomerDefinition"
      }
    },
    "aware": [
      "salesChannelAware",
      "Shopware\\Core\\Framework\\Event\\SalesChannelAware",
      "customerAware",
      "Shopware\\Core\\Framework\\Event\\CustomerAware",
      "mailAware",
      "Shopware\\Core\\Framework\\Event\\MailAware"
    ]
  }
]
```

The type for the first business event is easily generated, but the second is more complicated. Instead of providing a type for the data in the web hook, it just references the `"Shopware\\Core\\Checkout\\Customer\\CustomerDefinition"`

This SDK tries to approximate the type of this entity as best it can by using the entity schema generated by the `bin/console framework:schema -s openapi3  api.json` command. Similar to how the types are generated for the shopware administration, but with the mayor difference that every field and association is set to be optional.

This type is then slotted in to the web hook shape outlined in the [webhook documentation](https://developer.shopware.com/docs/guides/plugins/apps/webhook)

```json
{
  "data":{
    "payload":[
      {
        "entity":"product",
        "operation":"delete",
        "primaryKey":"7b04ebe416db4ebc93de4d791325e1d9",
        "updatedFields":[
        ]
      }
    ],
    "event":"product.written"
  },
  "source":{
    "url":"http:\/\/localhost:8000",
    "appVersion":"0.0.1",
    "shopId":"dgrH7nLU6tlE",
    "eventId": "7b04ebe416db4ebc93de4d791325e1d9"
  },
  "timestamp": 123123123
}
```
